# 6.19日志

#### 使用navicat建表

![image-20250619100057320](img/image-20250619100057320.png)

​	修改了部分最初的设计，建goods表的图片换成了json类型，用来存储图片在后端的相对地址，方便前端直接访问和展示商品图片。

​	在order表中加入了order_id，之前忽略了同一买家可能重复购买同一商品的可能，优化了订单的唯一性和可追溯性。

#### 对images文件夹暴露

​	映射了images文件夹，将其暴露在外，可以让前端直接通过goods表中存储的图片地址进行访问，简化了图片资源的获取流程。

![image-20250619100643483](img/image-20250619100643483.png)

#### 部分接口的测试

##### buyer/register接口
该接口用于买家用户的注册，前端通过POST方式提交买家名称和密码，后端校验信息后写入buyer表，若用户名已存在则返回错误信息。
- **请求参数**：
  - `buyerName` (String)：买家用户名
  - `buyerPassword` (String)：买家密码
- **返回值**：
  - 注册成功时返回Result对象，包含code（int）、msg（String）、data（可为null或买家信息）
  - 注册失败时返回错误信息

![image-20250619134539800](img/image-20250619134539800.png)

##### seller/register接口
该接口用于卖家用户的注册，前端通过POST方式提交卖家名称和密码，后端校验信息后写入seller表，若用户名已存在则返回错误信息。
- **请求参数**：
  - `sellerName` (String)：卖家用户名
  - `sellerPassword` (String)：卖家密码
- **返回值**：
  - 注册成功时返回Result对象，包含code（int）、msg（String）、data（可为null或卖家信息）
  - 注册失败时返回错误信息

![image-20250619135058845](img/image-20250619135058845.png)

#### 订单与商品联动

实现了订单创建功能，创建订单时会自动扣减商品库存，订单初始状态为"待支付"。所有实体表均增加了is_bool字段，实现逻辑删除，查询时只返回未被删除的数据。完善了Goods、Order等相关Mapper的逻辑删除过滤。整体接口已支持前后端联调，数据流转顺畅，接口返回结构清晰，便于后续功能扩展和维护。